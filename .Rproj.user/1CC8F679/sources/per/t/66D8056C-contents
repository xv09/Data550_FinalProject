---
title: 'Final Project 2: R Markdown'
author: "Xaviera Villarino"
date: "2024-02-17"
output: html_document
---

```{r, load packages, echo=FALSE, include=FALSE}
#install.packages("htmlTable")
#install.packages("table1")
library(boot)
library(table1)
library(knitr)
```

# Introduction


# Load Data from Local Directory
```{r, load data}
here::i_am("data/00_clean_data.R")
absolute_path_to_data <- here::here("clean_data", "simulated_data.csv")
data <- read.csv(absolute_path_to_data, header = TRUE)
```

# Table 1: Demographic Information for Study Population
```{r, create table 1}
label(data.sim$age) <- "Age (y)"
label(data.sim$race) <- "Race"
label(data.sim$income) <- "Household Income (/year)"
label(data.sim$education) <- "Highest Education Obtained"
label(data.sim$prep) <- "PrEP use in past 12 months"
label(data.sim$stigma) <- "Ever experienced stigma"
label(data.sim$rurality) <- "Rural/Urban Classification (NCHS 2013)"
label(data.sim$food_sec) <- "Experienced Food Insecurity"
label(data.sim$region) <- "Region"
label(data.sim$insurance) <- "Insurance Status"


table1(~age + race + income + education + prep + stigma + rurality + food_sec + region + insurance | testcat, data=data.sim)
```
The table above (Table 1) is a table that depicts the distrubution of sociodemographic factors of interest among the study population of 500 individuals.

# Analysis
```{r, bar chart}
# Create Data Frame
barchart_data <- data.frame(
  name =c("Less than Annual Testing", "Annual Testing", "Greater than Annual Testing"), value=c(187, 48, 265)
)
```

```{r, using ggplot, eval=FALSE, include=FALSE}
library(ggplot2)

ggplot(barchart_data, 
       aes(x=Frequency, y=Number))+
  geom_bar(stat = "identity") +
  geom_text(aes(label=Number, vjust=1.5, colour="white"))
```

```{r, using barplot}
barplot(height= barchart_data$value, names=barchart_data$name, xlab = "HIV Testing Frequency", ylab = "Number of Individuals (N=500)")
```

The figure above is a simple bar chart depicting the distribution of study participants by HIV testing frequency. The testing frequency variable was created based on a survey question that assessed how many times the participants had gotten tested for HIV in the past two years. Thus, those who reported testing 1 or less times in the past two years were classified as "less than annual testing",those who reported testing 2 times were classified as "annual testing" and those who reported testing 3 or more times were classified as "greater than annual testing".

# Compile Report
```{r}

```

